"""
Streamlit ML & API í†µí•© ì•± (ë©€í‹°í˜ì´ì§€)

ì‹¤í–‰ ì „:
1. python train_model.py ì‹¤í–‰í•˜ì—¬ ëª¨ë¸ ì €ì¥
2. .streamlit/secrets.tomlì— GEMINI_API_KEY ì„¤ì •

ì‹¤í–‰: streamlit run main.py
"""

import streamlit as st

# =============================================================================
# ì•± ì „ì²´ ì„¤ì •
# =============================================================================
st.set_page_config(
    page_title="ML & AI í†µí•© ì•±",
    page_icon="ğŸ¤–",
    layout="wide",
    initial_sidebar_state="expanded"
)

# =============================================================================
# í˜ì´ì§€ ì •ì˜ (st.Page)
# =============================================================================
home_page = st.Page(
    page="pages/home.py",
    title="í™ˆ",
    icon="ğŸ ",
    default=True
)

ml_page = st.Page(
    page="pages/ml_prediction.py",
    title="ë¶“ê½ƒ í’ˆì¢… ì˜ˆì¸¡",
    icon="ğŸŒ¸"
)

chat_page = st.Page(
    page="pages/gemini_chat.py",
    title="Gemini ì±—ë´‡",
    icon="ğŸ’¬"
)

db_page = st.Page(
    page="pages/db_analysis.py",
    title="ìŒì•… DB ë¶„ì„",
    icon="ğŸµ"
)

# =============================================================================
# ë„¤ë¹„ê²Œì´ì…˜ êµ¬ì„± (st.navigation)
# =============================================================================
pg = st.navigation({
    "ë©”ì¸": [home_page],
    "ê¸°ëŠ¥": [ml_page, chat_page, db_page]
})

# =============================================================================
# ê³µí†µ ì‚¬ì´ë“œë°”
# =============================================================================
with st.sidebar:
    st.caption("Â© 2025 ML & AI í†µí•© ì•±")

# =============================================================================
# í˜ì´ì§€ ì‹¤í–‰
# =============================================================================
pg.run()
